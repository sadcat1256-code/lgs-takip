<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LGS Takip Sistemi</title>
<style>
:root{--bg:#0f0b1e;--card:#1b1533;--accent:#6c2bd9;--neon:#7cfffb;--text:#fff;--muted:#b5b5c3}
body{margin:0;font-family:Arial;background:var(--bg);color:var(--text)}
.hidden{display:none}
.center{min-height:100vh;display:flex;justify-content:center;align-items:center}
.box{background:var(--card);padding:22px;border-radius:18px;width:320px}
input,select{width:100%;padding:10px;margin-top:8px;border-radius:10px;border:none;background:#2a2450;color:white}
.btn{width:100%;padding:12px;margin-top:12px;border:none;border-radius:12px;background:var(--accent);color:white;font-weight:bold}
.top{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#120e24}
.menu{display:flex;gap:10px}
.menu button{background:var(--card);border:none;color:white;padding:8px 14px;border-radius:10px}
.user{cursor:pointer}
.card{background:linear-gradient(145deg,#1b1533,#241c4a);border-radius:18px;padding:18px;margin:16px}
</style>
</head>
<body>

<!-- KAYIT -->
<div id="register" class="center">
 <div class="box">
  <h3>ğŸ“ KayÄ±t Ol</h3>
  <input id="ruser" placeholder="KullanÄ±cÄ± adÄ±">
  <select id="rkurs"><option>Kurs var</option><option>Kurs yok</option></select>
  <select id="rsaat"><option>15:35</option><option>16:45</option></select>
  <button class="btn" onclick="kayitIstek()">KayÄ±t Ol</button>
 </div>
</div>

<!-- GÄ°RÄ°Å -->
<div id="login" class="center hidden">
 <div class="box">
  <h3>ğŸ‘¤ GiriÅŸ</h3>
  <input id="luser" placeholder="KullanÄ±cÄ± adÄ±">
  <button class="btn" onclick="login()">GiriÅŸ</button>
  <button class="btn" onclick="adminGiris()">Admin</button>
 </div>
</div>

<!-- ADMÄ°N -->
<div id="admin" class="hidden center">
 <div class="box" style="width:360px">
  <h3>ğŸ‘‘ Admin Panel</h3>
  <div id="istekler"></div>
  <button class="btn" onclick="cikis()">Ã‡Ä±kÄ±ÅŸ</button>
 </div>
</div>

<!-- SÄ°TE -->
<div id="site" class="hidden">
 <div class="top">
  <div class="menu">
   <button onclick="go('program')">Program</button>
   <button onclick="go('deneme')">Deneme</button>
  </div>
  <div class="user" onclick="logout()">ğŸ‘¤ <span id="uname"></span></div>
 </div>

 <div id="program" class="card"></div>
 <div id="deneme" class="card">
  <h3>â± Deneme SÃ¼resi</h3>
  <div id="timer">40:00</div>
 </div>
</div>

<!-- TIKLAMA SESÄ° -->
<!-- TIKLAMA SESÄ° -->
<audio id="clickSound" src="hightech-ui-mouse-click-audio-material.mp3"></audio>

<script>
// TÄ±klama sesi ekle
function clickPlay(){document.getElementById('clickSound').play()}

document.addEventListener('click',e=>{
 if(e.target.tagName==='BUTTON') clickPlay()
})

let adminPass='yahyaben.47'
let wrong=0,timer=40*60,interval=null,aktif=null

function kayitIstek(){
 let arr=JSON.parse(localStorage.getItem('istekler')||'[]')
 arr.push({u:ruser.value,k:rkurs.value,s:rsaat.value})
 localStorage.setItem('istekler',JSON.stringify(arr))
 alert('KayÄ±t isteÄŸi gÃ¶nderildi')
}

function adminGiris(){
 let p=prompt('Åifre')
 if(p!==adminPass){wrong++;timer+=60*wrong;return alert('HatalÄ±')}
 register.classList.add('hidden');login.classList.add('hidden');admin.classList.remove('hidden')
 gosterIstek()
}

function gosterIstek(){
 let arr=JSON.parse(localStorage.getItem('istekler')||'[]')
 istekler.innerHTML=arr.map((x,i)=>`${x.u} (${x.k} - ${x.s}) <button onclick=\"kabul(${i})\">Kabul</button>`).join('<br>')
}

function kabul(i){
 let arr=JSON.parse(localStorage.getItem('istekler'))
 let u=arr.splice(i,1)[0]
 localStorage.setItem('user_'+u.u,JSON.stringify(u))
 localStorage.setItem('istekler',JSON.stringify(arr))
 gosterIstek()
}

function login(){
 let u=luser.value
 let data=localStorage.getItem('user_'+u)
 if(!data) return alert('Onay bekleniyor')
 aktif=u; uname.innerText=u
 login.classList.add('hidden');site.classList.remove('hidden')
 let d=JSON.parse(data)
 program.innerHTML=`<h3>ğŸ“… Program</h3>Eve geliÅŸ: ${d.s}<br>${d.k}`
 baslat()
}

function baslat(){interval=setInterval(()=>{timer--;let m=Math.floor(timer/60),s=timer%60;timerDiv()},1000)}
function timerDiv(){timer.innerText=`${String(Math.floor(timer/60)).padStart(2,'0')}:${String(timer%60).padStart(2,'0')}`}
function logout(){location.reload()}
function cikis(){location.reload()}
function go(id){document.getElementById(id).scrollIntoView({behavior:'smooth'})}
</script>
</body>
</html>
